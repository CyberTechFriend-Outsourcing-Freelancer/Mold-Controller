<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
    > Mode default : Manual<br>
    <!-- mode selection -->
    <label class="container">
      Auto<input type="radio" name="radio" id="auto">
      <span class="checkmark"></span>
    </label><br>
    <label class="container">
      Manual<input type="radio" checked="checked" name="radio" id="manual">
      <span class="checkmark"></span>
    </label><br><br>

    <!-- insert delay, runtime -->
    > FLOW<br>
    delay : <input type="number" id="flow_delay"><br>
    runtime : <input type="number" id="flow_runtime" ><br>
    <button onclick="main('Flow');">start</button><br><br>

    <!-- insert delay, runtime -->
    > BYPASS<br>
    delay : <input type="number" id="bypass_delay"><br>
    runtime : <input type="number" id="bypass_runtime" ><br>
    <button onclick="main('bypass');">start</button><br><br>

    <!-- insert delay, runtime -->
    > PURGE<br>
    delay : <input type="number" id="purge_delay"><br>
    runtime : <input type="number" id="purge_runtime" ><br>
    <button onclick="main('purge');">start</button><br><br>

    <br><br>
    <!-- signal button -->
    <button onclick="main();">Auto</button><br><br>
    > GPIO<br>
    <!-- show flow GPIO -->
    flow : <span id="flow"></span><br>

    <!-- show bypass GPIO -->
    bypass : <span id="bypass"></span><br>

    <!-- show purge GPIO -->
    purge : <span id="purge"></span><br>

    <script>
      var socket = io();
      window.addEventListener("change", function(){ //when page loads
        var auto = document.getElementById("auto").checked;
        if(auto){
          socket.emit("mode", auto); //send button status to server (as 1 or 0)
          console.log("auto : "+auto);
        }
      });
      window.addEventListener("change", function(){ //when page loads
        var manual = document.getElementById("manual").checked;
        if(manual){
          socket.emit("mode", manual); //send button status to server (as 1 or 0)
          console.log("manual : "+manual);
        }
      });
    </script>
  </body>
</html>
